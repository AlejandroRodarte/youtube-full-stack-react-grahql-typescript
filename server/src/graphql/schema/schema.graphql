type Query {
  posts: PostsResponse!
  post(data: PostInput!): PostResponse!
  me: MeResponse!
}

type PostsResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: PostsData
  errors: [FieldError!]
}

type PostsData {
  posts: [Post!]!
}

type Post {
  id: Float!
  title: String!
  text: String!
  points: Float!
  originalPosterId: Float!
  createdAt: String!
  updatedAt: String!
}

type FieldError {
  path: String!
  type: String!
  label: String!
  message: String!
}

type PostResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: PostData
  errors: [FieldError!]
}

type PostData {
  post: Post!
}

input PostInput {
  id: Int!
}

type MeResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: MeData
  errors: [FieldError!]
}

type MeData {
  user: User!
}

type User {
  id: Float!
  username: String!
  email: String!
  createdAt: String!
  updatedAt: String!
}

type Mutation {
  addPost(data: AddPostInput!): AddPostResponse!
  editPost(data: EditPostInput!): EditPostResponse!
  deletePost(data: DeletePostInput!): DeletePostResponse!
  register(data: RegisterInput!): RegisterResponse!
  login(data: LoginInput!): LoginResponse!
  logout: LogoutResponse!
  changePassword(data: ChangePasswordInput!): RegisterResponse!
  forgotPassword(data: ForgotPasswordInput!): ForgotPasswordResponse!
}

type AddPostResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: AddPostData
  errors: [FieldError!]
}

type AddPostData {
  newPost: Post!
}

input AddPostInput {
  title: String!
  text: String!
}

type EditPostResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: EditPostData
  errors: [FieldError!]
}

type EditPostData {
  updatedPost: Post!
}

input EditPostInput {
  id: Int!
  fields: OptionalPostFieldsInput!
}

input OptionalPostFieldsInput {
  title: String
  text: String
}

type DeletePostResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: DeletePostData
  errors: [FieldError!]
}

type DeletePostData {
  id: Int!
}

input DeletePostInput {
  id: Int!
}

type RegisterResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: RegisterData
  errors: [FieldError!]
}

type RegisterData {
  newUser: User!
}

input RegisterInput {
  username: String!
  email: String!
  password: String!
}

type LoginResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: LoginData
  errors: [FieldError!]
}

type LoginData {
  user: User!
}

input LoginInput {
  credential: String!
  password: String!
}

type LogoutResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: LogoutData
  errors: [FieldError!]
}

type LogoutData {
  wasSessionDestroyed: Boolean!
}

input ChangePasswordInput {
  token: String!
  form: ChangePasswordFormInput!
}

input ChangePasswordFormInput {
  newPassword: String!
}

type ForgotPasswordResponse {
  status: Int!
  message: String!
  code: String!
  _kind: String
  data: ForgotPasswordData
  errors: [FieldError!]
}

type ForgotPasswordData {
  wasEmailSent: Boolean!
}

input ForgotPasswordInput {
  email: String!
}
